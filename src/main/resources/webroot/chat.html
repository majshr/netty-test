<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
<div align="center" id="login">
	<form>
		<input type="text" name="userName"> <input type="button"
			value="登录">
	</form>
</div>
<div align="center" id="chat">
	<form>
		<input type="text">
	</form>
</div>

</html>
<script type="text/javascript">
	var host = "localhost:8080"
	var serverAddr = "ws://" + host + "/im";
	var socket = null;
	$(document).ready(function() {
		// 登陆完成后开启websocket
		if(window.WebSocket){
			socket = new WebSocket(serverAddr);
			alert(socket);
			socket.onmessage = function(e){
				alert(e.data);
			};
			socket.onopen = function(e){
				alert("webSocket开启");
			};
			socket.onclose = function(e){
				socket.send("hello");
				alert("webSocket关闭");
			};
		}else{
			alert("浏览器不支持websocket协议!");
		}
		
	})
</script>